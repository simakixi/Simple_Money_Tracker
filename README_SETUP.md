# ç’°å¢ƒæ§‹ç¯‰ã‚¬ã‚¤ãƒ‰

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. Dockerç’°å¢ƒã®èµ·å‹•

```bash
# Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’ãƒ“ãƒ«ãƒ‰&èµ·å‹•
docker-compose up -d --build

# èµ·å‹•ç¢ºèª
docker-compose ps
```

### 2. ã‚¢ã‚¯ã‚»ã‚¹

- **Webã‚¢ãƒ—ãƒª**: http://localhost:8080
- **phpMyAdmin**: http://localhost:8081
  - ã‚µãƒ¼ãƒãƒ¼: `db`
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼å: `user`
  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: `password`

### 3. ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å**: `test_user`
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**: `test_password`

---

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
Simple_Money_Tracker/
â”œâ”€â”€ docker-compose.yml        # Dockerç’°å¢ƒå®šç¾©
â”œâ”€â”€ .gitignore               # Gité™¤å¤–è¨­å®š
â”œâ”€â”€ docker/
â”‚   â””â”€â”€ php/
â”‚       â””â”€â”€ Dockerfile       # PHPã‚³ãƒ³ãƒ†ãƒŠè¨­å®š
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ database.php     # DBæ¥ç¶šè¨­å®š
â”‚   â””â”€â”€ public/
â”‚       â””â”€â”€ index.php        # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â””â”€â”€ db/
    â””â”€â”€ init.sql            # DBåˆæœŸåŒ–SQL
```

---

## ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

### Dockeræ“ä½œ

```bash
# ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•
docker-compose up -d

# ã‚³ãƒ³ãƒ†ãƒŠåœæ­¢
docker-compose down

# ãƒ­ã‚°ç¢ºèª
docker-compose logs -f web

# ã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚‹
docker-compose exec web bash

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶š
docker-compose exec db mysql -u money_user -pmoney_pass money_tracker
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ

```bash
# SQLãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œ
docker-compose exec db mysql -u money_user -pmoney_pass money_tracker < db/init.sql

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆ
docker-compose down -v
docker-compose up -d
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒãƒ¼ãƒˆãŒä½¿ç”¨ä¸­ã®å ´åˆ

`docker-compose.yml` ã®ãƒãƒ¼ãƒˆç•ªå·ã‚’å¤‰æ›´:

```yaml
ports:
  - "8082:80"  # 8080ã‹ã‚‰8082ã«å¤‰æ›´
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

1. ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª:
   ```bash
   docker-compose ps
   ```

2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–ã‚’å¾…ã¤ï¼ˆåˆå›èµ·å‹•æ™‚ã¯30ç§’ç¨‹åº¦ã‹ã‹ã‚‹å ´åˆã‚ã‚Šï¼‰

3. ãƒ­ã‚°ã‚’ç¢ºèª:
   ```bash
   docker-compose logs db
   ```

### å¤‰æ›´ãŒåæ˜ ã•ã‚Œãªã„

ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã€ã¾ãŸã¯ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã§é–‹ã

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### usersãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å | å‹ | èª¬æ˜ |
|---------|-----|------|
| id | INT | ä¸»ã‚­ãƒ¼ï¼ˆè‡ªå‹•æ¡ç•ªï¼‰ |
| username | VARCHAR(50) | ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆä¸€æ„ï¼‰ |
| password | VARCHAR(255) | ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ |
| created_at | TIMESTAMP | ä½œæˆæ—¥æ™‚ |

### transactionsãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å | å‹ | èª¬æ˜ |
|---------|-----|------|
| id | INT | ä¸»ã‚­ãƒ¼ï¼ˆè‡ªå‹•æ¡ç•ªï¼‰ |
| user_id | INT | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| amount | INT | é‡‘é¡ï¼ˆæ­£=åå…¥ã€è² =æ”¯å‡ºï¼‰ |
| date | DATE | ç™ºç”Ÿæ—¥ |
| description | TEXT | ãƒ¡ãƒ¢ |
| created_at | TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| updated_at | TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- âœ… ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ `password_hash()` ã§ãƒãƒƒã‚·ãƒ¥åŒ–
- âœ… SQLå‡¦ç†ã¯PDOãƒ—ãƒªãƒšã‚¢ãƒ‰ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆä½¿ç”¨
- âœ… `.gitignore` ã§æ©Ÿå¯†æƒ…å ±ã‚’é™¤å¤–
- â¬œï¸ ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®å®Ÿè£…
- â¬œï¸ CSRFå¯¾ç­–
- â¬œï¸ XSSå¯¾ç­–

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [PHPå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.php.net/manual/ja/)
- [Dockerå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.docker.com/)
- [MySQLå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://dev.mysql.com/doc/)