# Simple_Money_Tracker
初めてのWebアプリ制作として、「データの流れ（CRUD）」と「ユーザー認証」を網羅した教材用プロジェクト。

## 1. システム概要

ユーザーがログインし、カレンダー形式で日々の収支を視覚的に管理できるWebアプリケーション。

### 主な画面構成

- **ログイン画面**: ID/パスワードによる認証。
- **メイン画面（カレンダー）**:
    - 月次カレンダー表示。
    - 日付クリックで収支入力（モーダル等）。
    - その日の合計金額をカレンダー内に表示。
- **収支登録・編集画面**: 金額（＋/ー）、カテゴリー、メモなどの入力。

---

## 2. 技術スタック

| 区分 | 使用技術 | 備考 |
| --- | --- | --- |
| **開発環境** | Docker | ローカルでの環境構築用 |
| **フロントエンド** | HTML5, CSS3, JavaScript | カレンダー自作はJSのDate関数を駆使 |
| **バックエンド** | PHP 8.x | 安定性の高い最新版推奨 |
| **データベース** | MySQL / MariaDB | 収支データとユーザー情報の管理 |
| **インフラ** | Amazon Lightsail | Web+DBを完結 |

---

## 3. データベース設計 (ER図イメージ)

### `users` テーブル (ユーザー管理)

- `id`: INT (PK, AI)
- `username`: VARCHAR(50) (Unique)
- `password`: VARCHAR(255)
- `created_at`: TIMESTAMP

### `transactions` テーブル (収支管理)

- `id`: INT (PK, AI)
- `user_id`: INT (FK)
- `amount`: INT (正の数なら収入、負の数なら支出)
- `date`: DATE (発生日)
- `description`: TEXT (メモ)

---

## 4. 開発における重要ポイント（セキュリティ・実装）

### 🛡️ セキュリティ

- **パスワード管理**: 生パスワードは禁止。PHPの `password_hash()` を使いハッシュ化して保存。
- **SQL対策**: ユーザー入力値は必ず **PDOのプリペアドステートメント** を通して処理する。
- **HTTPS**: 公開時は Certbot (Let's Encrypt) で暗号化通信を実装する。

### 📅 カレンダー実装

- **学習重視の場合**: JSの `Date` オブジェクトを使い、1日の曜日や末日計算を自力で実装。
- **効率重視の場合**: `FullCalendar` などのライブラリ導入を検討。
    - googleカレンダー使ってもいいかも？

### ☁️ インフラ運用

- Lightsailの **スナップショット機能** を活用し、定期的なバックアップを自動化する。

---

## 5. 【事前課題】本番前にやるべきチュートリアル

いきなり本番を作らず、まずは以下の **「メモアプリ」** を作成して、PHP×DBの基本（CRUD）をマスターする。

### ミニ課題：一行メモアプリ

1. **HTML**: メモ入力欄と送信ボタンを作成。
2. **DB**: `memos` テーブルを作成（id, content, created_at）。
3. **PHP (保存)**: 送信された文字をDBに `INSERT` する。
4. **PHP (表示)**: DBからデータを `SELECT` して `foreach` で一覧表示する。

> **この課題の狙い**: 収支管理の「金額を保存してカレンダーに出す」という動きは、メモアプリの「文字を保存してリストに出す」と構造が全く同じであるため、ちょっとしたチュートリアルになる。
> 

---

## 6. ロードマップ（推奨手順）

1. **Step 1**: DockerでPHP+MySQLのローカル環境を立てる。
2. **Step 2**: ミニ課題「一行メモアプリ」を完成させる。
3. **Step 3**: 本番用DB（users, transactions）を設計・作成。
4. **Step 4**: ログイン・会員登録機能を実装（セッション管理）。
5. **Step 5**: カレンダー表示と収支登録機能を実装。
6. **Step 6**: Lightsailへデプロイし、公開する。

# 🛠 GitHub & 開発フロー：必須スキル・ロードマップ

GitHubを使いこなし、スムーズなチーム開発（または個人開発の管理）を行うためのガイド。

---

## 1. GitHubで「コード管理」以外に学ぶべきこと

### ① Git Flow / GitHub Flow

「今、どのブランチで作業すべきか？」のルールです。

- **mainブランチ**: 常に動く状態（本番用）に保つ。
- devブランチ: テスト用ブランチ（mainの前にかませる）
- **featureブランチ**: 新機能やバグ修正ごとに枝分かれさせる。
    - delete
    - fix
        
        等々…
        
- **命名規則**: `feature/login-page` のように分かりやすい名前を付ける。

### ② .gitignore（無視するファイルの設定）

「DBのパスワード」や「Dockerのログ」「OS特有のゴミファイル」をGitHubに上げないための設定。

- **なぜ重要か**: セキュリティ事故（パスワード流出）を防ぐ最重要スキルのため。

### ③ [README.md](http://readme.md/)

「このアプリは何？」「どうやって動かすの？」を他人に伝えるドキュメント。

- **構成**: スクリーンショット、セットアップ手順（Docker起動コマンドなど）、使用技術。

### ④ GitHub Actions

「コードを push したら自動でテストする」「自動で静的解析（構文チェック）をする」という体験。

- 最初は **「PHPのシンタックスチェック（構文エラーがないか）」** を自動化する

### ⑤ コンフリクト（衝突）の解消

同じ箇所のコードを書き換えたときに起きる「衝突」を、VS Codeなどのエディタを使って解決する経験。

- **回避策**: こまめに `git pull origin main` をして、最新の状態を取り込む癖をつける。

---

## 2. 開発前に知っておくべき前提知識（インフラ・ネットワーク）

サーバーやIP、Dockerについての基本的な理解を整理します。

これは教える側が口頭で説明し、追加で教材などを送り知識を補助する。

（かなり規模の大きい話なのでさらっとでいい）

| 項目 | 概念 |
| --- | --- |
| **IPアドレス** | サーバーの住所 |
| **ポート番号** | 住所の中の「窓口」 |
| **DNS** | 住所に名前を付ける |
| **Docker** | 仮想環境 |
| **SSH** | サーバーの遠隔操作 |

---

## 3. GitHub 実践演習

1. **Issueを立てる**: Issueを作る。
2. **Projectに登録**: Projectの `In Progress`（進行中）にカードを動かす。
3. **ブランチを切る**: 作業するブランチを作る
4. **コミット & Push**: 意味のある単位で区切ってコミットする。
5. **PR作成**: 何をしたか説明する。
6. **レビュー**: 教える側がレビューした後修正してからマージする。

---
